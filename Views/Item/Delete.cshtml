@using Microsoft.EntityFrameworkCore.Metadata.Internal
@model TodoApp.Models.TodoItem
@{
    ViewData["Title"] = "Delete";
}


<div class = "card p-3 area delete mx-auto">
    <div class = "mb-3">
        <h3>Are you sure you want to delete this item?</h3>
        <h4>@Model.Title</h4>
        @* <p>@Model.Description</p> *@
        @* <p>Status: @(Model.IsCompleted ? "Completed" : "Pending")</p> *@
        @* <p>Created At: @Model.CreatedAt?.ToString("g")</p>
        <p>Updated At: @Model.UpdatedAt?.ToString("g")</p> *@
    </div>

    <form asp-action="Delete" asp-route-id="@Model.Id" method="post">
        <div class="form-group d-flex justify-content-evenly mb-2">
        <button type="submit" id="deleteBtn" class="btn btn-danger">Yes</button>
        <a asp-action="Index" class="btn btn-secondary">No</a>
        </div>
    </form>
</div>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}

    <script>
        $('form').on('submit', function(event) {
        const dltBtn = $('#deleteBtn');
        dltBtn.prop('disabled', true);
        dltBtn.html('<span class="spinner-border spinner-border-sm" aria-hidden="true"></span>');
    })
    </script>

}